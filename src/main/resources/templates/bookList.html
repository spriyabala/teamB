<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html" xmlns:th="http://www.thymeleaf.org" >
<script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="https://cdn.datatables.net/1.10.4/js/jquery.dataTables.min.js"></script>

<head th:replace = "~{fragments/header}" >  <!--th:replace = "~{fragments/header :: menu (type='remove')}">
<div th:replace = "~{fragments/header}" ></div> -->

    <script>
$(document).ready(function() {
  $('#example').DataTable({

    "ordering": true,
    columnDefs: [{
      orderable: false,
      targets: "no-sort"
    }]

  });
});
</script>

    <meta charset="UTF-8">
    <title>List of Books</title>
</head>
<body>
<style>

th, td {
  padding: 15px;
}
table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}

</style>
<td th:text="${errorMessage}"></td>

<div  th:if="${books != null}">
    <H1> List of Books</H1>
    <br>


    <table id ="example" class ="display">
        <thead>
        <tr>

            <th >Book Name </th>
            <th >Author </th>
            <th class="no-sort"></th>
        </tr>
        </thead>

        <tbody>
        <tr th:each="book : ${books}">


            <td th:text="${book.name}"></td>
            <td th:text="${book.author}"></td>
           <td>
               <span th:if="${book.isAvailable}">
            <a th:href="@{/checkout/{id}(id=${book.id})}">Checkout</a>
               </span>
               <span th:if="${!book.isAvailable}">Not Available </span>

           </td>
        </tr>
        </tbody>

    </table>
</div>

<p>
    <a href="/" >Home Page</a>
</p>
</body>
</html>